---
title:  "TIL - 2026/02/05/목"

categories:
  - Til
tags:
  - [Programming]

toc: true
toc_sticky: false
 
date: 2026-02-05
last_modified_at: 2026-02-05
---
<br>


## 서블릿 (Servlet)

### 정의

HTTP와 같은 프로토콜로 통신할 때 사용하는 서버 측 웹 컴포넌트입니다.

**역할**
- 요청과 응답 처리에 사용됩니다.
- 요청에 따라 서블릿 객체가 1개씩 생성됩니다.

### 서블릿 컨테이너

**WAS를 서블릿 컨테이너라고 부릅니다.**
- Tomcat이 대표적인 서블릿 컨테이너입니다.

**서블릿 컨테이너의 역할**
1. 서블릿 객체 생성
2. 매핑
3. 소멸
4. 생명주기 관리
5. JVM에 있는 리소스 일부를 가져와서 제어
6. 스레드 관리
7. 보안 및 예외 처리
8. Spring이 계속 실행되게 유지

### 서블릿의 특징

- 서블릿 인터페이스나 클래스를 상속받아서 사용합니다.
- 메서드는 지정되어 있으며 구현할 수도 있습니다.
- `service()` 메서드는 보통 직접 지정하지 않습니다.
- **싱글톤 구조로 동작합니다** (Bean과 같음).
- 요청과 응답 시 같은 서블릿 객체를 거쳐갑니다.

### 기타

- 하나의 Tomcat은 여러 개의 애플리케이션을 실행할 수 있습니다.
- **Spring은 내부적으로 서블릿을 사용하고 있습니다.**

---

## JSP (Java Server Page)

HTML, JavaScript, Java를 포함하는 기술로, 옛날에 화면을 그릴 때 사용했습니다.

---

## 컨테이너 비교

### 서블릿 컨테이너 (WAS, Tomcat)
- 서블릿 생명주기 관리
- 스레드 관리

### Spring 컨테이너 (IoC 컨테이너)
- Bean 생애주기 관리 (생성~소멸)

---

## MVC 아키텍처

### 개념

레이어드 아키텍처와는 다르지만, 보통 함께 사용합니다.

### MVC 구성 요소

**Controller (컨트롤러)**
- 요청과 응답 처리를 담당합니다.

**View (뷰)**
- 모델 데이터를 기반으로 화면 자체를 만듭니다.

**종류**
- HTML (SSR)
- JSON (CSR)
- 문서

**Model (모델)**
- 비즈니스 로직을 처리합니다 (회원 정보 수정 등).
- Entity: 결과 데이터를 담고 있는 영역

### MVC의 장점

- 관심사 분리
- 애플리케이션의 구조를 명확하게 나눌 수 있음

---

## SSR vs CSR

### SSR (Server Side Rendering)

- 서버에서 모델 데이터를 가지고 화면을 렌더링합니다.
- SEO(검색 엔진 최적화)에 유리합니다.

### CSR (Client Side Rendering)

- 클라이언트에서 JSON 데이터를 가지고 HTML을 만듭니다.
- 조금 더 빠릅니다.
- SEO는 거의 안 된다고 봅니다.

---

## Spring MVC 동작 구조

### DispatcherServlet

**역할**
- 요청을 Controller에게 전달합니다.
- Front Controller라고도 합니다.
- 모든 처리가 이를 거쳐갑니다.

**위치**
- Spring Security가 동작하는 곳은 DispatcherServlet 앞단입니다.

### HandlerMapping & HandlerAdapter

**HandlerAdapter의 역할**
- 컨트롤러의 종류가 무엇이든 대신 처리해줍니다.
- 책임과 역할을 나누기 위해 위임 방식을 사용합니다.

### ViewResolver

어떠한 뷰를 선택할지 찾는 역할을 합니다.

**주의사항**
- `@RestController`는 `@ResponseBody`가 포함되어 있어 HTML 파일을 찾지 못합니다 (직렬화 시도).
- 뷰를 사용하려면 `@Controller`를 사용해야 합니다.

### HttpMessageConverter

JSON일 때 ViewResolver 대신 직렬화/역직렬화를 처리합니다.

---

## 요청 처리 흐름 (면접 질문)

**"Spring 애플리케이션 WAS로 회원가입 요청이 들어왔을 때 어떻게 동작하는가?"**

```
1. Client 요청
   ↓
2. DispatcherServlet (Front Controller)
   ↓
3. HandlerMapping (어떤 Controller가 처리할지 찾음)
   ↓
4. HandlerAdapter (Controller 실행)
   ↓
5. Controller (비즈니스 로직 처리)
   ↓
6. Model 데이터 반환
   ↓
7-1. ViewResolver (HTML 뷰 선택) - @Controller
7-2. HttpMessageConverter (JSON 직렬화) - @RestController
   ↓
8. Client 응답
```

---

## 쿼리 파라미터

한 번에 여러 개를 보낼 수 있으며, Key-Value 형태입니다.

```
GET /users?name=john&age=25
```

---

## 핵심 정리

- **서블릿**: HTTP 통신 처리 컴포넌트, 싱글톤으로 동작
- **서블릿 컨테이너**: Tomcat, 서블릿 생명주기 관리
- **Spring 컨테이너**: Bean 생명주기 관리
- **Spring은 내부적으로 서블릿을 사용**
- **MVC**: Model, View, Controller로 관심사 분리
- **DispatcherServlet**: 모든 요청의 시작점 (Front Controller)
- **HandlerAdapter**: 다양한 컨트롤러 타입 처리
- **ViewResolver**: 뷰 선택 (HTML)
- **HttpMessageConverter**: JSON 직렬화/역직렬화
- **@RestController**: @ResponseBody 포함, JSON 반환
- **@Controller**: 뷰 반환