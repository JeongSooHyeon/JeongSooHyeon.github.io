---
title: "ìœ„í´ë¦¬ í˜ì´í¼ - 2ì£¼ì°¨ (SRPì™€ OCP, map()ê³¼ flatMap()ì˜ ì°¨ì´ì )"
categories:
  - WeeklyPaper
tags:
  - [Programming]
toc: true
toc_sticky: false
date: 2026-01-12
last_modified_at: 2026-01-12
---

<br>
---

## 1. ë‹¨ì¼ ì±…ì„ ì›ì¹™ (SRP: Single Responsibility Principle)

**ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)** ì´ë€, **í•˜ë‚˜ì˜ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì±…ì„(ë³€ê²½ ì´ìœ )ë§Œ ê°€ì ¸ì•¼ í•œë‹¤**ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ ì›ì¹™ì´ë‹¤.

### âœ” ì±…ì„ì´ë€?

* ë‹¨ìˆœíˆ "ê¸°ëŠ¥"ì˜ ê°œìˆ˜ê°€ ì•„ë‹ˆë¼ **ë³€ê²½ì„ ì¼ìœ¼í‚¤ëŠ” ì›ì¸(ì•¡í„°)** ì„ ì˜ë¯¸í•œë‹¤.
* í•¨ê»˜ ë³€ê²½ë˜ëŠ” ê¸°ëŠ¥ì€ í•˜ë‚˜ì˜ ì±…ì„ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.

### âœ” SRPë¥¼ ì§€ì¼œì•¼ í•˜ëŠ” ì´ìœ 

* ìœ ì§€ë³´ìˆ˜ì™€ ìˆ˜ì •ì´ ì‰¬ì›Œì§
* ë³€ê²½ì˜ íŒŒê¸‰ íš¨ê³¼ ìµœì†Œí™”
* ì½”ë“œ ê°€ë…ì„±ê³¼ í´ë˜ìŠ¤ì˜ ì—­í• ì´ ëª…í™•í•´ì§

### âœ” ì£¼ì˜ì‚¬í•­

* í´ë˜ìŠ¤ëª…ë§Œ ë³´ê³  ì±…ì„ì„ ìœ ì¶”í•  ìˆ˜ ìˆë„ë¡ ì‘ëª…
* ì±…ì„ ë¶„ë¦¬ ì‹œ **ì‘ì§‘ë„ëŠ” ë†’ê²Œ, ê²°í•©ë„ëŠ” ë‚®ê²Œ** ìœ ì§€
* ì‚¬ì†Œí•œ ë¶€ê°€ê¸°ëŠ¥ì´ë¼ë„ ì—¬ëŸ¬ ê³³ì— í©ì–´ì ¸ ìˆë‹¤ë©´ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬

  * ì´ë¥¼ í•´ê²°í•˜ì§€ ëª»í•˜ë©´ **ì‚°íƒ„ì´ ìˆ˜ìˆ (Shotgun Surgery)** ë¬¸ì œê°€ ë°œìƒ

---

### âŒ SRP ì ìš© ì „ (Before SRP)

```java
public class User {
    private String name;
    private String email;

    public void saveUser() {
        // ë°ì´í„°ë² ì´ìŠ¤ì— ìœ ì €ë¥¼ ì €ì¥í•˜ëŠ” ë¡œì§
    }

    public void mailUser() {
        // ìœ ì €ì—ê²Œ ë©”ì¼ì„ ë³´ë‚´ëŠ” ë¡œì§
    }
}
```

* ì €ì¥ ë¡œì§ê³¼ ë©”ì¼ ë°œì†¡ ë¡œì§ì´ í•œ í´ë˜ìŠ¤ì— ì¡´ì¬
* ì„œë¡œ ë‹¤ë¥¸ ë³€ê²½ ì´ìœ ë¥¼ ê°€ì§

---

### âœ… SRP ì ìš© í›„ (After SRP)

```java
public class User {
    private String name;
    private String email;
}

public class UserDB {
    public void saveUser(User user) {
        // ë°ì´í„°ë² ì´ìŠ¤ì— ìœ ì €ë¥¼ ì €ì¥í•˜ëŠ” ë¡œì§
    }
}

public class UserMailer {
    public void mailUser(User user) {
        // ìœ ì €ì—ê²Œ ë©”ì¼ì„ ë³´ë‚´ëŠ” ë¡œì§
    }
}
```

* ê° í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì§
* ë³€ê²½ì— ê°•í•œ êµ¬ì¡°

---

## 2. ê°œë°©-íì‡„ ì›ì¹™ (OCP: Open-Closed Principle)

**OCP ì›ì¹™**ì´ë€, **ê¸°ì¡´ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤**ëŠ” ì›ì¹™ì´ë‹¤.

* í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆê³ (Open)
* ìˆ˜ì •ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•¨(Closed)

### âœ” OCPë¥¼ ìœ„í•œ ì„¤ê³„ í•µì‹¬

1. ë³€í•˜ëŠ” ê²ƒê³¼ ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ë¶„ë¦¬
2. ê²½ê³„ ì§€ì ì— ì¶”ìƒí™”(ì¸í„°í˜ì´ìŠ¤, ì¶”ìƒ í´ë˜ìŠ¤) ì ìš©
3. êµ¬í˜„ì²´ê°€ ì•„ë‹Œ **ì¶”ìƒí™”ì— ì˜ì¡´**

---

### âŒ OCP ì ìš© ì „ (Before OCP)

```java
class Circle {
    public double radius;
}

class Rectangle {
    public double width;
    public double height;
}

class AreaCalculator {
    public double calculateArea(Object shape) {
        if (shape instanceof Circle) {
            Circle c = (Circle) shape;
            return Math.PI * c.radius * c.radius;
        } else if (shape instanceof Rectangle) {
            Rectangle r = (Rectangle) shape;
            return r.width * r.height;
        }
        return 0;
    }
}
```

* ìƒˆë¡œìš´ ë„í˜•ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ `AreaCalculator` ìˆ˜ì • í•„ìš”

---

### âœ… OCP ì ìš© í›„ (After OCP)

```java
interface Shape {
    double calculateArea();
}

class Circle implements Shape {
    private double radius;

    public Circle(double radius) {
        this.radius = radius;
    }

    @Override
    public double calculateArea() {
        return Math.PI * radius * radius;
    }
}

class Rectangle implements Shape {
    private double width;
    private double height;

    public Rectangle(double width, double height) {
        this.width = width;
        this.height = height;
    }

    @Override
    public double calculateArea() {
        return width * height;
    }
}

class AreaCalculator {
    public double calculateArea(Shape shape) {
        return shape.calculateArea();
    }
}
```

```java
class Triangle implements Shape {
    private double base;
    private double height;

    public Triangle(double base, double height) {
        this.base = base;
        this.height = height;
    }

    @Override
    public double calculateArea() {
        return 0.5 * base * height;
    }
}
```

* ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ì´ ë„í˜• í™•ì¥ ê°€ëŠ¥
* ë‹¤í˜•ì„±ì„ í™œìš©í•œ ìœ ì—°í•œ ì„¤ê³„

---

## 3. Stream APIì˜ mapê³¼ flatMap ì°¨ì´

### âœ” map()

* ìŠ¤íŠ¸ë¦¼ì˜ ê° ìš”ì†Œë¥¼ **ë‹¤ë¥¸ í˜•íƒœë¡œ ë³€í™˜**
* êµ¬ì¡°ë¥¼ ìœ ì§€í•œ ì±„ ë§¤í•‘

### âœ” flatMap()

* ì¤‘ì²©ëœ êµ¬ì¡°ë¥¼ **í‰íƒ„í™”(flatten)** í•˜ì—¬ í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜

![map vs flatMap](/assets/images/map_flatMap.png)

---

### ì˜ˆì œ ì½”ë“œ

```java
String[][] namesArray = {
        {"ë‹¬ì„ ", "ë‹¬ë£¡"},
        {"ë‹¬ë£¡", "ë‹¬ë¡€"},
        {"ë‹¬ë¡€"}
};
```

#### map() ì‚¬ìš©

```java
Arrays.stream(namesArray)
        .map(inner -> Arrays.stream(inner))
        .forEach(innerStream -> {
            System.out.println("=== ìƒˆ ë¬¶ìŒ ì‹œì‘ ===");
            innerStream.forEach(System.out::println);
        });
```

**ì‹¤í–‰ ê²°ê³¼**

```
=== ìƒˆ ë¬¶ìŒ ì‹œì‘ ===
ë‹¬ì„ 
ë‹¬ë£¡
=== ìƒˆ ë¬¶ìŒ ì‹œì‘ ===
ë‹¬ë£¡
ë‹¬ë¡€
=== ìƒˆ ë¬¶ìŒ ì‹œì‘ ===
ë‹¬ë¡€
```

* ë°°ì—´ ë‹¨ìœ„(ê·¸ë£¹) ìœ ì§€

---

#### flatMap() ì‚¬ìš©

```java
Arrays.stream(namesArray)
        .flatMap(inner -> Arrays.stream(inner))
        .forEach(System.out::println);
```

**ì‹¤í–‰ ê²°ê³¼**

```
ë‹¬ì„ 
ë‹¬ë£¡
ë‹¬ë£¡
ë‹¬ë¡€
ë‹¬ë¡€
```

* ëª¨ë“  ìš”ì†Œê°€ í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ í•©ì³ì§

---

### âœ” ì •ë¦¬

* **map()** : êµ¬ì¡° ìœ ì§€, ê·¸ë£¹ ë‹¨ìœ„ ì²˜ë¦¬
* **flatMap()** : êµ¬ì¡° ì œê±°, ì „ì²´ ë°ì´í„° ì²˜ë¦¬ì— ì í•©

---

### ğŸ“š ì°¸ê³  ìë£Œ

* [https://inpa.tistory.com/entry/OOP-%F0%9F%92%A0-%EC%95%84%EC%A3%BC-%EC%89%BD%EA%B2%8C-%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94-SRP-%EB%8B%A8%EC%9D%BC-%EC%B1%85%EC%9E%84-%EC%9B%90%EC%B9%99](https://inpa.tistory.com/entry/OOP-%F0%9F%92%A0-%EC%95%84%EC%A3%BC-%EC%89%BD%EA%B2%8C-%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94-SRP-%EB%8B%A8%EC%9D%BC-%EC%B1%85%EC%9E%84-%EC%9B%90%EC%B9%99)
* [https://inpa.tistory.com/entry/OOP-%F0%9F%92%A0-%EC%95%84%EC%A3%BC-%EC%89%BD%EA%B2%8C-%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94-OCP-%EA%B0%9C%EB%B0%A9-%ED%8F%90%EC%87%84-%EC%9B%90%EC%B9%99](https://inpa.tistory.com/entry/OOP-%F0%9F%92%A0-%EC%95%84%EC%A3%BC-%EC%89%BD%EA%B2%8C-%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94-OCP-%EA%B0%9C%EB%B0%A9-%ED%8F%90%EC%87%84-%EC%9B%90%EC%B9%99)
* [https://kchanguk.tistory.com/56](https://kchanguk.tistory.com/56)
